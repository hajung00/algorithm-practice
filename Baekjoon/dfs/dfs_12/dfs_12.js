// 14888. ì—°ì‚°ìž ë¼ì›Œë„£ê¸°

// ðŸ·ï¸ ë¬¸ì œ
// Nê°œì˜ ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ìˆ˜ì—´ A1, A2, ..., ANì´ ì£¼ì–´ì§„ë‹¤. ë˜, ìˆ˜ì™€ ìˆ˜ ì‚¬ì´ì— ë¼ì›Œë„£ì„ ìˆ˜ ìžˆëŠ” N-1ê°œì˜ ì—°ì‚°ìžê°€ ì£¼ì–´ì§„ë‹¤. ì—°ì‚°ìžëŠ” ë§ì…ˆ(+), ëº„ì…ˆ(-), ê³±ì…ˆ(Ã—), ë‚˜ëˆ—ì…ˆ(Ã·)ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì ¸ ìžˆë‹¤.
// ìš°ë¦¬ëŠ” ìˆ˜ì™€ ìˆ˜ ì‚¬ì´ì— ì—°ì‚°ìžë¥¼ í•˜ë‚˜ì”© ë„£ì–´ì„œ, ìˆ˜ì‹ì„ í•˜ë‚˜ ë§Œë“¤ ìˆ˜ ìžˆë‹¤. ì´ë•Œ, ì£¼ì–´ì§„ ìˆ˜ì˜ ìˆœì„œë¥¼ ë°”ê¾¸ë©´ ì•ˆ ëœë‹¤.
// ì˜ˆë¥¼ ë“¤ì–´, 6ê°œì˜ ìˆ˜ë¡œ ì´ë£¨ì–´ì§„ ìˆ˜ì—´ì´ 1, 2, 3, 4, 5, 6ì´ê³ , ì£¼ì–´ì§„ ì—°ì‚°ìžê°€ ë§ì…ˆ(+) 2ê°œ, ëº„ì…ˆ(-) 1ê°œ, ê³±ì…ˆ(Ã—) 1ê°œ, ë‚˜ëˆ—ì…ˆ(Ã·) 1ê°œì¸ ê²½ìš°ì—ëŠ” ì´ 60ê°€ì§€ì˜ ì‹ì„ ë§Œë“¤ ìˆ˜ ìžˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì•„ëž˜ì™€ ê°™ì€ ì‹ì„ ë§Œë“¤ ìˆ˜ ìžˆë‹¤.

// 1+2+3-4Ã—5Ã·6
// 1Ã·2+3+4-5Ã—6
// 1+2Ã·3Ã—4-5+6
// 1Ã·2Ã—3-4+5+6

// ì‹ì˜ ê³„ì‚°ì€ ì—°ì‚°ìž ìš°ì„  ìˆœìœ„ë¥¼ ë¬´ì‹œí•˜ê³  ì•žì—ì„œë¶€í„° ì§„í–‰í•´ì•¼ í•œë‹¤. ë˜, ë‚˜ëˆ—ì…ˆì€ ì •ìˆ˜ ë‚˜ëˆ—ì…ˆìœ¼ë¡œ ëª«ë§Œ ì·¨í•œë‹¤. ìŒìˆ˜ë¥¼ ì–‘ìˆ˜ë¡œ ë‚˜ëˆŒ ë•ŒëŠ” C++14ì˜ ê¸°ì¤€ì„ ë”°ë¥¸ë‹¤. ì¦‰, ì–‘ìˆ˜ë¡œ ë°”ê¾¼ ë’¤ ëª«ì„ ì·¨í•˜ê³ , ê·¸ ëª«ì„ ìŒìˆ˜ë¡œ ë°”ê¾¼ ê²ƒê³¼ ê°™ë‹¤. ì´ì— ë”°ë¼ì„œ, ìœ„ì˜ ì‹ 4ê°œì˜ ê²°ê³¼ë¥¼ ê³„ì‚°í•´ë³´ë©´ ì•„ëž˜ì™€ ê°™ë‹¤.

// 1+2+3-4Ã—5Ã·6 = 1
// 1Ã·2+3+4-5Ã—6 = 12
// 1+2Ã·3Ã—4-5+6 = 5
// 1Ã·2Ã—3-4+5+6 = 7

// Nê°œì˜ ìˆ˜ì™€ N-1ê°œì˜ ì—°ì‚°ìžê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ë§Œë“¤ ìˆ˜ ìžˆëŠ” ì‹ì˜ ê²°ê³¼ê°€ ìµœëŒ€ì¸ ê²ƒê³¼ ìµœì†Œì¸ ê²ƒì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤.

// ðŸ·ï¸ ìž…ë ¥
// ì²«ì§¸ ì¤„ì— ìˆ˜ì˜ ê°œìˆ˜ N(2 â‰¤ N â‰¤ 11)ê°€ ì£¼ì–´ì§„ë‹¤. ë‘˜ì§¸ ì¤„ì—ëŠ” A1, A2, ..., ANì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ Ai â‰¤ 100) ì…‹ì§¸ ì¤„ì—ëŠ” í•©ì´ N-1ì¸ 4ê°œì˜ ì •ìˆ˜ê°€ ì£¼ì–´ì§€ëŠ”ë°, ì°¨ë¡€ëŒ€ë¡œ ë§ì…ˆ(+)ì˜ ê°œìˆ˜, ëº„ì…ˆ(-)ì˜ ê°œìˆ˜, ê³±ì…ˆ(Ã—)ì˜ ê°œìˆ˜, ë‚˜ëˆ—ì…ˆ(Ã·)ì˜ ê°œìˆ˜ì´ë‹¤.

// ðŸ·ï¸ ì¶œë ¥
// ì²«ì§¸ ì¤„ì— ë§Œë“¤ ìˆ˜ ìžˆëŠ” ì‹ì˜ ê²°ê³¼ì˜ ìµœëŒ“ê°’ì„, ë‘˜ì§¸ ì¤„ì—ëŠ” ìµœì†Ÿê°’ì„ ì¶œë ¥í•œë‹¤. ì—°ì‚°ìžë¥¼ ì–´ë–»ê²Œ ë¼ì›Œë„£ì–´ë„ í•­ìƒ -10ì–µë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 10ì–µë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ” ìž…ë ¥ë§Œ ì£¼ì–´ì§„ë‹¤.
// ë˜í•œ, ì•žì—ì„œë¶€í„° ê³„ì‚°í–ˆì„ ë•Œ, ì¤‘ê°„ì— ê³„ì‚°ë˜ëŠ” ì‹ì˜ ê²°ê³¼ë„ í•­ìƒ -10ì–µë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , 10ì–µë³´ë‹¤ ìž‘ê±°ë‚˜ ê°™ë‹¤.

// ðŸ·ï¸ ì˜ˆì œ ìž…ì¶œë ¥

// ìž…ë ¥
// 2
// 5 6
// 0 0 1 0

// ì¶œë ¥
// 30
// 30

let fs = require("fs");
let input = fs.readFileSync("dfs_12.txt").toString().split("\n");

let n = Number(input[0]);
let array = input[1].split(" ").map(Number);
let [add, sub, mul, div] = input[2].split(" ").map(Number);
let max = -1e9;
let min = 1e9;

function dfs(depth, value) {
  console.log(depth, add, mul, value);
  if (depth == n) {
    max = Math.max(max, value);
    min = Math.min(min, value);
    return;
  }
  if (add > 0) {
    add--;
    dfs(depth + 1, value + array[depth]);
    add++;
    console.log("add");
  }
  if (sub > 0) {
    sub--;
    dfs(depth + 1, value - array[depth]);
    sub++;
  }
  if (mul > 0) {
    mul--;
    dfs(depth + 1, value * array[depth]);
    mul++;
    console.log("mul");
  }
  if (div > 0) {
    div--;
    dfs(depth + 1, ~~(value / array[depth]));
    div++;
  }
}

dfs(1, array[0]);
console.log(max + "\n" + min);

// ì‹œê°„ ì´ˆê³¼
// let n = Number(input[0]);
// let array = input[1].split(" ").map(Number);
// let mark = ["+", "-", "*", "/"];
// let cal = input[2].split(" ").map(Number);
// let calArray = [];
// let visited = Array(n - 1).fill(false);
// let selected = [];
// let max = -1e9;
// let min = 1e9;

// for (let i = 0; i < 4; i++) {
//     for (let j = 0; j < cal[i]; j++) {
//       calArray.push(mark[i]);
//     }
//   }

//   function dfs(depth) {
//     if (depth == n - 1) {
//       let current = 0;
//       for (let i = 0; i < n - 1; i++) {
//         if (i == 0)
//           current = parseInt(eval(`${array[i]}${selected[i]}${array[i + 1]}`));
//         else current = parseInt(eval(`${current}${selected[i]}${array[i + 1]}`));
//       }
//       max = Math.max(max, current);
//       min = Math.min(min, current);
//     }
//     for (let i = 0; i < n - 1; i++) {
//       if (visited[i]) continue;
//       visited[i] = true;
//       selected.push(calArray[i]);
//       dfs(depth + 1);
//       visited[i] = false;
//       selected.pop();
//     }
//   }

//   dfs(0);
//   console.log(max + "\n" + min);
